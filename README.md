# GATMO

## Quick Start

1. **Create a Conda Environment**:

   Start by creating a Conda environment with Python 3.11. If you haven't already installed Conda, you can get it from [Anaconda](https://www.anaconda.com/products/individual).

   ```shell
   conda create -n GATMO python=3.11
   ```

   Activate the environment:

   ```shell
   conda activate GATMO
   ```

2. **Install Dependencies**:

   Use pip to install the required packages listed in the requirements.txt file.

   ```shell
   pip install -r requirements.txt
   ```

3. **How to Run**:

   To quickly run the program, use the following command:

   ```shell
   python inference.py --split RandomTCR --dataset pMTnet 
   ```

   Available options:

   - `--split`:
     - Default: "RandomTCR"
     - Choices: ["RandomTCR", "StrictTCR"]

   - `--dataset`:
     - Default: "pMTnet"
     - Choices: ["McPAS", "pMTnet", "VDJdb", "TEINet"]

   - `--device`:
     - Default: "cpu"
     - Choices: ["cpu", "gpu"]

   - `--gpu_id`:
     - Default: 0
     - Description: When using a GPU, this specifies which GPU to use by its ID. The default is the first GPU (ID 0).
     - Example:
      ```shell
        python inference.py --split RandomTCR --dataset pMTnet --device gpu --gpu_id 0
      ```


## How to Train

The downloaded test model contains embeddings generated by TCRpeg. If you need embeddings from ESM-2, please refer to [ESM-2's GitHub](https://github.com/facebookresearch/esm).

Next, simply run the following command:

```bash
python train.py --gpu 0 --configs_path configs/pMTnet.yml --droup_out 0.1 --split StrictTCR  --opt_strategy triple
```

Please ensure that the paths in `configs/XXXXX.yml` are correct, including the paths for training and testing files, and the embeddings.
